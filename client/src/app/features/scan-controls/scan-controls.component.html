<form [formGroup]="form" class="w-full flex flex-col gap-4 p-4">
  <!-- Root Path -->
  <mat-form-field appearance="outline">
    <mat-label>Root Path</mat-label>
    <input
      matInput
      formControlName="rootPath"
      placeholder="/home/user/projects"
    />
    <mat-select *ngIf="rootHistory().length" matSuffix>
      <mat-option *ngFor="let path of rootHistory()" [value]="path">
        <div class="flex justify-between items-center">
          <span>{{ path }}</span>
          <button
            mat-icon-button
            type="button"
            (click)="removeFromRootHistory(path)"
          >
            <mat-icon>close</mat-icon>
          </button>
        </div>
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Exclude Pattern -->
  <mat-form-field appearance="outline">
    <mat-label>Exclude Pattern</mat-label>
    <input
      matInput
      formControlName="excludePattern"
      placeholder="dist, .cache"
    />
    <mat-select *ngIf="excludeHistory().length" matSuffix>
      <mat-option *ngFor="let pattern of excludeHistory()" [value]="pattern">
        <div class="flex justify-between items-center">
          <span>{{ pattern }}</span>
          <button
            mat-icon-button
            type="button"
            (click)="removeFromExcludeHistory(pattern)"
          >
            <mat-icon>close</mat-icon>
          </button>
        </div>
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Target Dirs -->
  <mat-form-field appearance="outline">
    <mat-label>Target Directories</mat-label>
    <input
      matInput
      formControlName="targetDirs"
      placeholder="node_modules, build"
    />
  </mat-form-field>

  <!-- Exclude Hidden -->
  <mat-checkbox formControlName="excludeHidden"
    >Exclude Hidden Files</mat-checkbox
  >

  <!-- Start/Stop Button -->
  <button
    mat-raised-button
    color="primary"
    [ngStyle]="{ width: '100%' }"
    (click)="isScanning() ? stopScan() : startScan()"
    [disabled]="form.invalid"
  >
    {{ isScanning() ? "Stop" : "Start Scan" }}
  </button>
</form>
